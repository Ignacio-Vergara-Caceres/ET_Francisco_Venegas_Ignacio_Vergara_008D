"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[6237],{6237:(Y,v,d)=>{d.r(v),d.d(v,{CardPageModule:()=>M});var p=d(177),o=d(4341),l=d(4742),c=d(8986),f=d(467),e=d(4438),_=d(4796);function h(r,a){1&r&&(e.j41(0,"div",16),e.EFF(1," *Username es obligatorio "),e.k0s())}function F(r,a){1&r&&(e.j41(0,"div",16),e.EFF(1," *Username debe tener m\xednimo 6 caracteres "),e.k0s())}function C(r,a){if(1&r&&(e.j41(0,"div",16),e.DNE(1,h,2,0,"div",4)(2,F,2,0,"div",4),e.k0s()),2&r){let n,i;const t=e.XpG();e.R7$(),e.Y8G("ngIf",null==(n=t.registroForm.get("username"))?null:n.hasError("required")),e.R7$(),e.Y8G("ngIf",null==(i=t.registroForm.get("username"))?null:i.hasError("minlength"))}}function k(r,a){1&r&&(e.j41(0,"div",16),e.EFF(1," *Email es obligatorio "),e.k0s())}function E(r,a){1&r&&(e.j41(0,"div",16),e.EFF(1," *Formato no v\xe1lido "),e.k0s())}function b(r,a){if(1&r&&(e.j41(0,"div",16),e.DNE(1,k,2,0,"div",4)(2,E,2,0,"div",4),e.k0s()),2&r){let n,i;const t=e.XpG();e.R7$(),e.Y8G("ngIf",null==(n=t.registroForm.get("email"))?null:n.hasError("required")),e.R7$(),e.Y8G("ngIf",null==(i=t.registroForm.get("email"))?null:i.hasError("email"))}}function P(r,a){1&r&&(e.j41(0,"div",16),e.EFF(1," *Rut es obligatorio "),e.k0s())}function j(r,a){1&r&&(e.j41(0,"div",16),e.EFF(1," *Rut debe tener m\xednimo 9 caracteres "),e.k0s())}function G(r,a){1&r&&(e.j41(0,"div",16),e.EFF(1," *Rut debe tener m\xe1ximo 9 caracteres "),e.k0s())}function R(r,a){1&r&&(e.j41(0,"div",16),e.EFF(1," *Rut debe tener solo n\xfameros, sin puntos ni gui\xf3n "),e.k0s())}function U(r,a){if(1&r&&(e.j41(0,"div",16),e.DNE(1,P,2,0,"div",4)(2,j,2,0,"div",4)(3,G,2,0,"div",4)(4,R,2,0,"div",4),e.k0s()),2&r){let n,i,t,u;const s=e.XpG();e.R7$(),e.Y8G("ngIf",null==(n=s.registroForm.get("rut"))?null:n.hasError("required")),e.R7$(),e.Y8G("ngIf",null==(i=s.registroForm.get("rut"))?null:i.hasError("minlength")),e.R7$(),e.Y8G("ngIf",null==(t=s.registroForm.get("rut"))?null:t.hasError("maxlength")),e.R7$(),e.Y8G("ngIf",null==(u=s.registroForm.get("rut"))?null:u.hasError("pattern"))}}function y(r,a){1&r&&(e.j41(0,"div",16),e.EFF(1," *Password es obligatorio "),e.k0s())}function $(r,a){1&r&&(e.j41(0,"div",16),e.EFF(1," *Password debe tener m\xednimo 8 caracteres, una letra y un n\xfamero "),e.k0s())}function I(r,a){if(1&r&&(e.j41(0,"div",16),e.DNE(1,y,2,0,"div",4)(2,$,2,0,"div",4),e.k0s()),2&r){let n,i;const t=e.XpG();e.R7$(),e.Y8G("ngIf",null==(n=t.registroForm.get("password"))?null:n.hasError("required")),e.R7$(),e.Y8G("ngIf",null==(i=t.registroForm.get("password"))?null:i.hasError("pattern"))}}const w=[{path:"",component:(()=>{var r;class a{constructor(i,t,u,s){this.authservice=i,this.alertcontroller=t,this.router=u,this.fBuilder=s,this.nuevoUsuario={username:"",email:"",rut:0,password:"",isactive:!1},this.registroForm=this.fBuilder.group({username:new o.MJ("",[o.k0.required,o.k0.minLength(6)]),email:new o.MJ("",[o.k0.required,o.k0.email]),rut:new o.MJ("",[o.k0.required,o.k0.minLength(9),o.k0.maxLength(9),o.k0.pattern("^[0-9]+[0-9Kk]{1}$")]),password:new o.MJ("",[o.k0.required,o.k0.pattern(/^(?=.*[A-Za-z])(?=.*\d)[A-Za-z\d]{8,}$/)])})}ngOnInit(){}crearUsuario(){this.registroForm.valid&&this.authservice.getuserbyusername(this.registroForm.value.username).subscribe(i=>{this.userdata=i,this.userdata.length>0?(this.registroForm.reset(),this.errorDuplicidad()):(this.nuevoUsuario.username=this.registroForm.value.username,this.nuevoUsuario.password=this.registroForm.value.password,this.nuevoUsuario.email=this.registroForm.value.email,this.nuevoUsuario.rut=this.registroForm.value.rut,this.nuevoUsuario.isactive=!0,this.authservice.postusuario(this.nuevoUsuario).subscribe(),this.registroForm.reset(),this.mostrarMensaje(),this.router.navigateByUrl("/alert"))})}mostrarMensaje(){var i=this;return(0,f.A)(function*(){(yield i.alertcontroller.create({header:"Usuario creado",message:"Bienvenid@! "+i.nuevoUsuario.username,buttons:["OK"]})).present()})()}errorDuplicidad(){var i=this;return(0,f.A)(function*(){(yield i.alertcontroller.create({header:"Error...",message:"Usted "+i.nuevoUsuario.username+" ya est\xe1 registrado",buttons:["OK"]})).present()})()}}return(r=a).\u0275fac=function(i){return new(i||r)(e.rXU(_.u),e.rXU(l.hG),e.rXU(c.Ix),e.rXU(o.ok))},r.\u0275cmp=e.VBU({type:r,selectors:[["app-card"]],decls:33,vars:6,consts:[["slot","start"],["defaultHref","/","text","","color","dark"],[3,"formGroup"],["type","text","placeholder","Nombre usado para identificarse","formControlName","username","label","Username:","labelPlacement","floating"],["id","alerta",4,"ngIf"],["type","email","formControlName","email","label","Email:","labelPlacement","floating"],["type","text","placeholder","Rut sin puntos ni gui\xf3n. Se permite K","formControlName","rut","label","Rut (con digito verificador):","labelPlacement","floating"],["type","password","formControlName","password","label","Password:","labelPlacement","floating"],[2,"text-align","center","margin-top","30px"],["shape","round",3,"click","disabled"],["color","warning"],["slot","end"],["fill","clear"],["name","logo-instagram"],["name","logo-facebook"],["name","logo-twitter"],["id","alerta"]],template:function(i,t){if(1&i&&(e.j41(0,"ion-header")(1,"ion-toolbar")(2,"ion-buttons",0),e.nrm(3,"ion-back-button",1),e.k0s(),e.j41(4,"ion-title"),e.EFF(5,"Registro de Usuario"),e.k0s()()(),e.j41(6,"form",2)(7,"ion-item"),e.nrm(8,"ion-input",3),e.k0s(),e.DNE(9,C,3,2,"div",4),e.j41(10,"ion-item"),e.nrm(11,"ion-input",5),e.k0s(),e.DNE(12,b,3,2,"div",4),e.j41(13,"ion-item"),e.nrm(14,"ion-input",6),e.k0s(),e.DNE(15,U,5,4,"div",4),e.j41(16,"ion-item"),e.nrm(17,"ion-input",7),e.k0s(),e.DNE(18,I,3,2,"div",4),e.j41(19,"div",8)(20,"ion-button",9),e.bIt("click",function(){return t.crearUsuario()}),e.EFF(21," Crear Usuario "),e.k0s()()(),e.j41(22,"ion-footer")(23,"ion-toolbar",10)(24,"ion-title"),e.EFF(25,"Duoc UC"),e.k0s(),e.j41(26,"ion-buttons",11)(27,"ion-button",12),e.nrm(28,"ion-icon",13),e.k0s(),e.j41(29,"ion-button",12),e.nrm(30,"ion-icon",14),e.k0s(),e.j41(31,"ion-button",12),e.nrm(32,"ion-icon",15),e.k0s()()()()),2&i){let u,s,m,g;e.R7$(6),e.Y8G("formGroup",t.registroForm),e.R7$(3),e.Y8G("ngIf",(null==(u=t.registroForm.get("username"))?null:u.invalid)&&((null==(u=t.registroForm.get("username"))?null:u.dirty)||(null==(u=t.registroForm.get("username"))?null:u.touched))),e.R7$(3),e.Y8G("ngIf",(null==(s=t.registroForm.get("email"))?null:s.invalid)&&((null==(s=t.registroForm.get("email"))?null:s.dirty)||(null==(s=t.registroForm.get("email"))?null:s.touched))),e.R7$(3),e.Y8G("ngIf",(null==(m=t.registroForm.get("rut"))?null:m.invalid)&&((null==(m=t.registroForm.get("rut"))?null:m.dirty)||(null==(m=t.registroForm.get("rut"))?null:m.touched))),e.R7$(3),e.Y8G("ngIf",(null==(g=t.registroForm.get("password"))?null:g.invalid)&&((null==(g=t.registroForm.get("password"))?null:g.dirty)||(null==(g=t.registroForm.get("password"))?null:g.touched))),e.R7$(2),e.Y8G("disabled",!t.registroForm.valid)}},dependencies:[p.bT,o.qT,o.BC,o.cb,o.j4,o.JD,l.Jm,l.QW,l.M0,l.eU,l.iq,l.$w,l.uz,l.BC,l.ai,l.Gw,l.el]}),a})()}];let T=(()=>{var r;class a{}return(r=a).\u0275fac=function(i){return new(i||r)},r.\u0275mod=e.$C({type:r}),r.\u0275inj=e.G2t({imports:[c.iI.forChild(w),c.iI]}),a})(),M=(()=>{var r;class a{}return(r=a).\u0275fac=function(i){return new(i||r)},r.\u0275mod=e.$C({type:r}),r.\u0275inj=e.G2t({imports:[p.MD,o.YN,o.X1,l.bv,T]}),a})()}}]);